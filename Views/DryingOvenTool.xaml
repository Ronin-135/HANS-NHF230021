<UserControl
    x:Class="WPFMachine.Views.DryingOvenTool"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:control="clr-namespace:WPFMachine.Views.Control"
    xmlns:cusPanel="clr-namespace:WPFMachine.Views.Control.CustomPanel"
    xmlns:custommarkupextension="clr-namespace:WPFMachine.Views.CustomMarkupExtension"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:local="clr-namespace:WPFMachine.Views"
    xmlns:machine="clr-namespace:Machine"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:module="clr-namespace:WPFMachine.ViewModels"
    xmlns:prism="http://prismlibrary.com/"
    xmlns:sys="clr-namespace:System;assembly=mscorlib"
    Name="this"
    d:DataContext="{d:DesignInstance Type=module:DryingOvenToolViewModel}"
    d:DesignHeight="450"
    d:DesignWidth="800"
    SnapsToDevicePixels="True"
    TextOptions.TextFormattingMode="Display"
    TextOptions.TextRenderingMode="ClearType"
    mc:Ignorable="d">
    <UserControl.Resources>
        <local:BitEnumerationConversion x:Key="alarmCon" TrueVal="{DynamicResource AlarmGridTrue}" />

    </UserControl.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="1*" />
            <ColumnDefinition Width="7*" />
        </Grid.ColumnDefinitions>

        <materialDesign:Card Margin="10" materialDesign:ElevationAssist.Elevation="Dp8">
            <DataGrid
                Name="OvenGrid"
                AutoGenerateColumns="False"
                CellStyle="{DynamicResource MyDataGridCellSytle}"
                ColumnHeaderStyle="{DynamicResource DataGridColHeader}"
                FontSize="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=FontSize}"
                HeadersVisibility="None"
                IsReadOnly="True"
                ItemsSource="{Binding Ovens}"
                SelectedIndex="0"
                SelectedValue="{Binding CurOvens, Mode=OneWayToSource}">
                <DataGrid.Resources>
                    <Style BasedOn="{StaticResource ScrollStyle_Mobile}" TargetType="ScrollBar" />
                </DataGrid.Resources>
                <DataGrid.Columns>
                    <DataGridTextColumn
                        Width="1*"
                        Binding="{Binding RunName}"
                        CanUserSort="False"
                        FontSize="15"
                        FontWeight="Light"
                        Header="干燥炉" />
                </DataGrid.Columns>
            </DataGrid>

        </materialDesign:Card>

        <materialDesign:Card
            Grid.Column="1"
            Margin="10"
            materialDesign:ElevationAssist.Elevation="Dp8">

            <GroupBox>
                <GroupBox.Header>
                    <TextBlock Foreground="White" Text="{Binding ElementName=OvenGrid, Path=SelectedValue.RunName}" />
                </GroupBox.Header>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="0.4*" />
                        <ColumnDefinition />
                        <ColumnDefinition Width="0.4*" />
                    </Grid.ColumnDefinitions>
                    <materialDesign:Card Margin="5" materialDesign:ElevationAssist.Elevation="Dp4">
                        <Grid Grid.Column="0" materialDesign:ElevationAssist.Elevation="Dp8">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="2*" />
                                <RowDefinition Height="5*" />
                                <RowDefinition Height="4*" />
                            </Grid.RowDefinitions>
                            <cusPanel:AutoHeight ColCount="4">
                                <TextBlock
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Text="IP:" />
                                <TextBlock
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Text="{Binding ElementName=OvenGrid, Path=SelectedValue.OvenIP}" />

                                <TextBlock
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Text="端口:" />
                                <TextBlock
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Text="{Binding ElementName=OvenGrid, Path=SelectedValue.OvenPort}" />

                                <!--<TextBlock
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Text="心跳" />

                                <Border Padding="5">
                                    <Viewbox>
                                        <Border
                                            Width="10"
                                            Height="10"
                                            Background="Red"
                                            CornerRadius="5" />
                                    </Viewbox>
                                </Border>-->

                                <Button
                                    Margin="5"
                                    cusPanel:AutoHeight.ColSpan="2"
                                    Command="{Binding ConnectCommand}"
                                    Content="连接"
                                    Foreground="White">
                                    <Button.CommandParameter>
                                        <sys:Boolean>True</sys:Boolean>
                                    </Button.CommandParameter>
                                </Button>
                                <Button
                                    Margin="5"
                                    cusPanel:AutoHeight.ColSpan="2"
                                    Command="{Binding ConnectCommand}"
                                    Content="断开"
                                    Foreground="White">
                                    <Button.CommandParameter>
                                        <sys:Boolean>False</sys:Boolean>
                                    </Button.CommandParameter>
                                </Button>

                            </cusPanel:AutoHeight>

                            <Grid
                                Grid.Row="1"
                                Grid.Column="0"
                                Grid.ColumnSpan="2">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="0.5*" />
                                </Grid.ColumnDefinitions>
                                <!--<control:RobotPalletView Plts="{Binding ElementName=OvenGrid, Path=SelectedValue.}"/>-->
                                <Grid Grid.Column="0" Grid.ColumnSpan="2">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="9*" />
                                        <RowDefinition Height="1*" />
                                    </Grid.RowDefinitions>
                                    <ItemsControl Grid.Row="0" ItemsSource="{Binding ElementName=OvenGrid, Path=SelectedValue.CavityDataSource}">
                                        <ItemsControl.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <UniformGrid Columns="2" />
                                            </ItemsPanelTemplate>
                                        </ItemsControl.ItemsPanel>

                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <control:CavityDataView
                                                    MaxCol="{Binding Plts.Count}"
                                                    MaxRow="1"
                                                    Plts="{Binding Plts}" />

                                                <!--<control:RobotPalletView
                                                    Margin="1"
                                                    MaxCol="1"
                                                    MaxRow="0"
                                                    Plts="{Binding Plts}" />-->
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                    <ItemsControl
                                        Grid.Row="1"
                                        AlternationCount="10000"
                                        ItemsSource="{Binding ElementName=OvenGrid, Path=SelectedValue.CavityDataSource}">
                                        <ItemsControl.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <UniformGrid Columns="2" />
                                            </ItemsPanelTemplate>
                                        </ItemsControl.ItemsPanel>
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Grid>
                                                    <Button
                                                        Name="Radio"
                                                        Width="0"
                                                        Height="0"
                                                        Content="{Binding RowIndex}"
                                                        Visibility="Hidden" />
                                                    <RadioButton
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Content="{Binding RowIndex, Converter={StaticResource DataMigration_1}}"
                                                        GroupName="Row">

                                                        <RadioButton.IsChecked>
                                                            <local:ConverterParameterBinding
                                                                Converter="{StaticResource ReadioToParam}"
                                                                ParameterBinding="{Binding Source={x:Reference Radio}, Path=Content}"
                                                                Path="DataContext.SelectedIndex">
                                                                <Binding.RelativeSource>
                                                                    <RelativeSource AncestorType="{x:Type UserControl}" />
                                                                </Binding.RelativeSource>
                                                            </local:ConverterParameterBinding>
                                                        </RadioButton.IsChecked>
                                                    </RadioButton>
                                                </Grid>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </Grid>
                            </Grid>

                            <cusPanel:AutoHeight Grid.Row="2" ColCount="2">
                                <Button
                                    Margin="5"
                                    Command="{Binding OperateActionCommand}"
                                    Content="{DynamicResource 开门}"
                                    Foreground="White">
                                    <Button.CommandParameter>
                                        <module:DryParam Cmd="{x:Static machine:DryOvenCmd.DoorOperate}" CmdParam="True" />
                                    </Button.CommandParameter>
                                </Button>
                                <Button
                                    Margin="5"
                                    Command="{Binding OperateActionCommand}"
                                    Content="{DynamicResource 关门}"
                                    Foreground="White">
                                    <Button.CommandParameter>
                                        <module:DryParam Cmd="{x:Static machine:DryOvenCmd.DoorOperate}" CmdParam="False" />
                                    </Button.CommandParameter>
                                </Button>
                                <!--<Button
                                    Margin="5"
                                    Command="{Binding OperateActionCommand}"
                                    Content="{DynamicResource 抽真空开}"
                                    Foreground="White">
                                    <Button.CommandParameter>
                                        <module:DryParam Cmd="{x:Static machine:DryOvenCmd.VacOperate}" CmdParam="True" />
                                    </Button.CommandParameter>
                                </Button>
                                <Button
                                    Margin="5"
                                    Command="{Binding OperateActionCommand}"
                                    Content="{DynamicResource 抽真空关}"
                                    Foreground="White">
                                    <Button.CommandParameter>
                                        <module:DryParam Cmd="{x:Static machine:DryOvenCmd.VacOperate}" CmdParam="False" />
                                    </Button.CommandParameter>
                                </Button>
                                <Button
                                    Margin="5"
                                    Command="{Binding OperateActionCommand}"
                                    Content="{DynamicResource 破真空开}"
                                    Foreground="White">
                                    <Button.CommandParameter>
                                        <module:DryParam Cmd="{x:Static machine:DryOvenCmd.BreakVacOperate}" CmdParam="True" />
                                    </Button.CommandParameter>
                                </Button>
                                <Button
                                    Margin="5"
                                    Command="{Binding OperateActionCommand}"
                                    Content="{DynamicResource 破真空关}"
                                    Foreground="White">
                                    <Button.CommandParameter>
                                        <module:DryParam Cmd="{x:Static machine:DryOvenCmd.BreakVacOperate}" CmdParam="False" />
                                    </Button.CommandParameter>
                                </Button>-->
                                <Button
                                    Margin="5"
                                    Command="{Binding OperateActionCommand}"
                                    Content="{DynamicResource 启动}"
                                    Foreground="White">
                                    <Button.CommandParameter>
                                        <module:DryParam Cmd="{x:Static machine:DryOvenCmd.StartOperate}" CmdParam="True" />
                                    </Button.CommandParameter>
                                </Button>
                                <Button
                                    Margin="5"
                                    Command="{Binding OperateActionCommand}"
                                    Content="{DynamicResource 停止}"
                                    Foreground="White">
                                    <Button.CommandParameter>
                                        <module:DryParam Cmd="{x:Static machine:DryOvenCmd.StartOperate}" CmdParam="False" />
                                    </Button.CommandParameter>
                                </Button>
                                <Button
                                    Margin="5"
                                    Command="{Binding OperateActionCommand}"
                                    Content="{DynamicResource 保压开}"
                                    Foreground="White">
                                    <Button.CommandParameter>
                                        <module:DryParam Cmd="{x:Static machine:DryOvenCmd.PressureOperate}" CmdParam="True" />
                                    </Button.CommandParameter>
                                </Button>
                                <Button
                                    Margin="5"
                                    Command="{Binding OperateActionCommand}"
                                    Content="{DynamicResource 保压关}"
                                    Foreground="White">
                                    <Button.CommandParameter>
                                        <module:DryParam Cmd="{x:Static machine:DryOvenCmd.PressureOperate}" CmdParam="False" />
                                    </Button.CommandParameter>
                                </Button>
                            </cusPanel:AutoHeight>

                        </Grid>

                    </materialDesign:Card>
                    <materialDesign:Card
                        Grid.Column="1"
                        Margin="5"
                        materialDesign:ElevationAssist.Elevation="Dp4">

                        <StackPanel>
                            <DataGrid
                                Margin="5"
                                AutoGenerateColumns="False"
                                BorderBrush="{DynamicResource PrimaryHueLightBrush}"
                                BorderThickness="2"
                                CanUserSortColumns="False"
                                FrozenColumnCount="1"
                                IsReadOnly="True"
                                ItemsSource="{Binding ElementName=OvenGrid, Path=SelectedValue.CavityDataSource}">
                                <DataGrid.Resources>
                                    <Style BasedOn="{StaticResource ScrollStyle_Mobile}" TargetType="ScrollBar" />
                                </DataGrid.Resources>
                                <DataGrid.ColumnHeaderStyle>
                                    <Style TargetType="DataGridColumnHeader">
                                        <Setter Property="Foreground" Value="White" />
                                        <Setter Property="Background" Value="{DynamicResource BorderColor}" />
                                        <Setter Property="Padding" Value="10" />
                                    </Style>
                                </DataGrid.ColumnHeaderStyle>
                                <DataGrid.Columns>
                                    <DataGridTextColumn
                                        Binding="{Binding RowIndex, Converter={StaticResource DataMigration_1}}"
                                        ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                        Header="炉腔" />
                                    <DataGridTextColumn
                                        Binding="{Binding RealTimeData.WorkState, Converter={StaticResource OvenWorkState}}"
                                        ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                        Header="工作状态" />
                                    <DataGridTextColumn
                                        Binding="{Binding RealTimeData.UnWorkTime}"
                                        ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                        Header="运行时间" />
                                    <DataGridTextColumn
                                        Binding="{Binding RealTimeData.UnVacPressure}"
                                        ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                        Header="真空值" />
                                    <DataGridTextColumn
                                        Binding="{Binding RealTimeData.DoorState, Converter={StaticResource OvenDoorState}}"
                                        ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                        Header="炉门" />
                                    <DataGridTextColumn
                                        Binding="{Binding RealTimeData.VacState, Converter={StaticResource OvenVacState}}"
                                        ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                        Header="真空阀" />
                                    <DataGridTextColumn
                                        Binding="{Binding RealTimeData.BlowState, Converter={StaticResource OvenVacState}}"
                                        ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                        Header="破真空阀" />
                                    <!--<DataGridTextColumn
                                        Binding="{Binding RealTimeData.ScreenState, Converter={StaticResource OvenVacState}}"
                                        ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                        Header="光幕状态" />-->
                                    <DataGridTextColumn
                                        Binding="{Binding RealTimeData.WarmState[0], Converter={StaticResource OvenBlowUsPreState}}"
                                        ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                        Header="加热" />
                                    <!--<DataGridTextColumn Binding="{Binding RealTimeData.WarmState[1], Converter={StaticResource OvenBlowUsPreState}}" Header="456加热" />
                                    <DataGridTextColumn Binding="{Binding RealTimeData.WarmState[2], Converter={StaticResource OvenBlowUsPreState}}" Header="侧板加热" />
                                    <DataGridTextColumn Binding="{Binding RealTimeData.WarmState[3], Converter={StaticResource OvenBlowUsPreState}}" Header="门板加热" />-->
                                    <DataGridTextColumn
                                        Binding="{Binding RealTimeData.BlowUsPreState, Converter={StaticResource OvenBlowUsPreState}}"
                                        ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                        Header="破真空常压状态" />
                                    <!--<DataGridTextColumn
                                        Binding="{Binding RealTimeData.BreathCycleCount}"
                                        ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                        Header="呼吸循环次数" />-->
                                    <DataGridTextColumn
                                        Binding="{Binding RealTimeData.PreHeatBreathState, Converter={StaticResource OvenVacState}}"
                                        ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                        Header="预热呼吸状态" />
                                    <DataGridTextColumn
                                        Binding="{Binding RealTimeData.VacBreathState, Converter={StaticResource OvenVacState}}"
                                        ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                        Header="真空呼吸状态" />
                                </DataGrid.Columns>
                            </DataGrid>
                            <materialDesign:Card>
                                <materialDesign:Card.Triggers>
                                    <EventTrigger RoutedEvent="MouseEnter">
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation
                                                    BeginTime="0:0:0"
                                                    Storyboard.TargetName="AlarmGrid"
                                                    Storyboard.TargetProperty="Height"
                                                    To="215"
                                                    Duration="0:0:0.2" />
                                                <DoubleAnimation
                                                    BeginTime="0:0:0"
                                                    Storyboard.TargetName="TempCard"
                                                    Storyboard.TargetProperty="Height"
                                                    To="350"
                                                    Duration="0:0:0.2" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger>
                                </materialDesign:Card.Triggers>
                                <DataGrid
                                    x:Name="TempCard"
                                    Height="350"
                                    Margin="5"
                                    AutoGenerateColumns="False"
                                    BorderBrush="{DynamicResource PrimaryHueLightBrush}"
                                    BorderThickness="2"
                                    CanUserSortColumns="False"
                                    FrozenColumnCount="1"
                                    IsReadOnly="True"
                                    ItemsSource="{Binding PltList}">
                                    <DataGrid.Resources>
                                        <Style BasedOn="{StaticResource ScrollStyle_Mobile}" TargetType="ScrollBar" />
                                    </DataGrid.Resources>
                                    <DataGrid.ColumnHeaderStyle>
                                        <Style TargetType="DataGridColumnHeader">
                                            <Setter Property="Foreground" Value="White" />
                                            <Setter Property="Background" Value="{DynamicResource BorderColor}" />
                                            <Setter Property="Padding" Value="10" />
                                        </Style>
                                    </DataGrid.ColumnHeaderStyle>
                                    <DataGrid.Columns>
                                        <DataGridTextColumn ElementStyle="{StaticResource DataGridTextColumnCenterSytle}" Header="托盘">
                                            <DataGridTextColumn.Binding>
                                                <MultiBinding Converter="{StaticResource GetIndex}" StringFormat="{}{0}">
                                                    <Binding />
                                                    <Binding Path="ItemsSource" RelativeSource="{RelativeSource AncestorType=DataGrid}" />
                                                </MultiBinding>
                                            </DataGridTextColumn.Binding>
                                        </DataGridTextColumn>

                                        <DataGridTextColumn
                                            Binding="{Binding UnBaseTempValue[0]}"
                                            ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                            Header="底板实际1" />
                                        <DataGridTextColumn
                                            Binding="{Binding UnBaseTempValue[1]}"
                                            ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                            Header="底板实际2" />
                                        <DataGridTextColumn
                                            Binding="{Binding UnBaseTempValue[2]}"
                                            ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                            Header="底板实际3" />
                                        <DataGridTextColumn
                                            Binding="{Binding poiling[0]}"
                                            ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                            Header="底板巡检1" />
                                        <DataGridTextColumn
                                            Binding="{Binding poiling[1]}"
                                            ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                            Header="底板巡检2" />
                                        <DataGridTextColumn
                                            Binding="{Binding poiling[2]}"
                                            ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                            Header="底板巡检3" />
                                    </DataGrid.Columns>
                                </DataGrid>
                            </materialDesign:Card>


                            <materialDesign:Card>
                                <materialDesign:Card.Triggers>
                                    <EventTrigger RoutedEvent="MouseEnter">
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation
                                                    BeginTime="0:0:0"
                                                    Storyboard.TargetName="TempCard"
                                                    Storyboard.TargetProperty="Height"
                                                    To="215"
                                                    Duration="0:0:0.2" />
                                                <DoubleAnimation
                                                    BeginTime="0:0:0"
                                                    Storyboard.TargetName="AlarmGrid"
                                                    Storyboard.TargetProperty="Height"
                                                    To="350"
                                                    Duration="0:0:0.2" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger>
                                </materialDesign:Card.Triggers>

                                <DataGrid
                                    x:Name="AlarmGrid"
                                    Height="215"
                                    Margin="5"
                                    AutoGenerateColumns="False"
                                    BorderBrush="{DynamicResource PrimaryHueLightBrush}"
                                    BorderThickness="2"
                                    CanUserReorderColumns="False"
                                    CanUserResizeColumns="False"
                                    CanUserSortColumns="False"
                                    FrozenColumnCount="1"
                                    IsReadOnly="True"
                                    ItemsSource="{Binding Alarm}">


                                    <DataGrid.Resources>
                                        <Style BasedOn="{StaticResource ScrollStyle_Mobile}" TargetType="ScrollBar" />
                                    </DataGrid.Resources>
                                    <DataGrid.ColumnHeaderStyle>
                                        <Style TargetType="DataGridColumnHeader">
                                            <Setter Property="Foreground" Value="White" />
                                            <Setter Property="Background" Value="{DynamicResource BorderColor}" />
                                            <Setter Property="Padding" Value="10" />
                                        </Style>
                                    </DataGrid.ColumnHeaderStyle>
                                    <DataGrid.Columns>
                                        <!--
                                            并没有找到动态在C# 代码里面操作DynamicResource 扩展的方法
                                            Columns 并不支持 bind 只支持读取
                                            后期在优化吧
                                        -->
                                        <DataGridTextColumn ElementStyle="{StaticResource DataGridTextColumnCenterSytle}" Header="托盘">
                                            <DataGridTextColumn.Binding>
                                                <MultiBinding Converter="{StaticResource GetIndex}" StringFormat="{}{0}">
                                                    <Binding />
                                                    <Binding Path="ItemsSource" RelativeSource="{RelativeSource AncestorType=DataGrid}" />
                                                </MultiBinding>
                                            </DataGridTextColumn.Binding>
                                        </DataGridTextColumn>
                                        <DataGridTextColumn
                                            Binding="{Binding BaseTempAlarmState[0][0], Converter={StaticResource alarmCon}, ConverterParameter={x:Static machine:OvenTempAlarm.OverheatTmp}}"
                                            ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                            Header="{DynamicResource 1底板超温}" />
                                        <DataGridTextColumn
                                            Binding="{Binding BaseTempAlarmState[1][0], Converter={StaticResource alarmCon}, ConverterParameter={x:Static machine:OvenTempAlarm.OverheatTmp}}"
                                            ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                            Header="{DynamicResource 2底板超温}" />
                                        <DataGridTextColumn
                                            Binding="{Binding BaseTempAlarmState[2][0], Converter={StaticResource alarmCon}, ConverterParameter={x:Static machine:OvenTempAlarm.OverheatTmp}}"
                                            ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                            Header="{DynamicResource 3底板超温}" />
                                        <DataGridTextColumn
                                            Binding="{Binding BaseTempAlarmState[0][1], Converter={StaticResource alarmCon}, ConverterParameter={x:Static machine:OvenTempAlarm.LowTmp}}"
                                            ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                            Header="{DynamicResource 1底板低温}" />
                                        <DataGridTextColumn
                                            Binding="{Binding BaseTempAlarmState[1][1], Converter={StaticResource alarmCon}, ConverterParameter={x:Static machine:OvenTempAlarm.LowTmp}}"
                                            ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                            Header="{DynamicResource 2底板低温}" />
                                        <DataGridTextColumn
                                            Binding="{Binding BaseTempAlarmState[2][1], Converter={StaticResource alarmCon}, ConverterParameter={x:Static machine:OvenTempAlarm.LowTmp}}"
                                            ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                            Header="{DynamicResource 3底板低温}" />
                                        <DataGridTextColumn
                                            Binding="{Binding BaseTempAlarmState[0][2], Converter={StaticResource alarmCon}, ConverterParameter={x:Static machine:OvenTempAlarm.DifTmp}}"
                                            ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                            Header="{DynamicResource 1底板温差异常}" />
                                        <DataGridTextColumn
                                            Binding="{Binding BaseTempAlarmState[1][2], Converter={StaticResource alarmCon}, ConverterParameter={x:Static machine:OvenTempAlarm.DifTmp}}"
                                            ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                            Header="{DynamicResource 2底板温差异常}" />
                                        <DataGridTextColumn
                                            Binding="{Binding BaseTempAlarmState[2][2], Converter={StaticResource alarmCon}, ConverterParameter={x:Static machine:OvenTempAlarm.DifTmp}}"
                                            ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                            Header="{DynamicResource 3底板温差异常}" />
                                        <DataGridTextColumn
                                            Binding="{Binding BaseTempAlarmState[0][3], Converter={StaticResource alarmCon}, ConverterParameter={x:Static machine:OvenTempAlarm.ExcTmp}}"
                                            ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                            Header="{DynamicResource 1底板信号异常}" />
                                        <DataGridTextColumn
                                            Binding="{Binding BaseTempAlarmState[1][3], Converter={StaticResource alarmCon}, ConverterParameter={x:Static machine:OvenTempAlarm.ExcTmp}}"
                                            ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                            Header="{DynamicResource 2底板信号异常}" />
                                        <DataGridTextColumn
                                            Binding="{Binding BaseTempAlarmState[2][3], Converter={StaticResource alarmCon}, ConverterParameter={x:Static machine:OvenTempAlarm.ExcTmp}}"
                                            ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                            Header="{DynamicResource 3底板信号异常}" />
                                        <DataGridTextColumn
                                            Binding="{Binding BaseTempAlarmState[0][4], Converter={StaticResource alarmCon}, ConverterParameter={x:Static machine:OvenTempAlarm.ConTmp}}"
                                            ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                            Header="{DynamicResource 1底板温度不变}" />
                                        <DataGridTextColumn
                                            Binding="{Binding BaseTempAlarmState[1][4], Converter={StaticResource alarmCon}, ConverterParameter={x:Static machine:OvenTempAlarm.ConTmp}}"
                                            ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                            Header="{DynamicResource 2底板温度不变}" />
                                        <DataGridTextColumn
                                            Binding="{Binding BaseTempAlarmState[2][4], Converter={StaticResource alarmCon}, ConverterParameter={x:Static machine:OvenTempAlarm.ConTmp}}"
                                            ElementStyle="{StaticResource DataGridTextColumnCenterSytle}"
                                            Header="{DynamicResource 3底板温度不变}" />
                                    </DataGrid.Columns>
                                </DataGrid>
                            </materialDesign:Card>

                        </StackPanel>
                    </materialDesign:Card>
                    <materialDesign:Card
                        Grid.Column="2"
                        Margin="10"
                        materialDesign:ElevationAssist.Elevation="Dp8">
                        <Grid Grid.Column="2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="3*" />
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <materialDesign:Card
                                Grid.Column="2"
                                Margin="5"
                                materialDesign:ElevationAssist.Elevation="Dp4">

                                <DataGrid
                                    AutoGenerateColumns="False"
                                    BorderBrush="{DynamicResource PrimaryHueLightBrush}"
                                    CanUserSortColumns="False"
                                    IsReadOnly="True"
                                    ItemsSource="{Binding Parameters}">
                                    <DataGrid.Resources>
                                        <Style BasedOn="{StaticResource ScrollStyle_Mobile}" TargetType="ScrollBar" />
                                    </DataGrid.Resources>
                                    <DataGrid.ColumnHeaderStyle>
                                        <Style TargetType="DataGridColumnHeader">
                                            <Setter Property="Foreground" Value="White" />
                                            <Setter Property="Background" Value="{DynamicResource BorderColor}" />
                                            <Setter Property="Padding" Value="10" />
                                        </Style>
                                    </DataGrid.ColumnHeaderStyle>
                                    <DataGrid.Columns>
                                        <DataGridTextColumn
                                            Width="1*"
                                            Binding="{Binding Name}"
                                            Header="{DynamicResource 参数名}" />
                                        <DataGridTextColumn
                                            Width="1*"
                                            Binding="{Binding Val}"
                                            Header="{DynamicResource 参数值}" />
                                    </DataGrid.Columns>
                                </DataGrid>
                            </materialDesign:Card>
                            <materialDesign:Card
                                Grid.Row="1"
                                Margin="5"
                                materialDesign:ElevationAssist.Elevation="Dp4">
                                <cusPanel:AutoHeight ColCount="2">
                                    <Button
                                        Margin="5"
                                        Command="{Binding OperateActionCommand}"
                                        Content="{DynamicResource 故障复位}"
                                        Foreground="White">
                                        <Button.CommandParameter>
                                            <module:DryParam Cmd="{x:Static machine:DryOvenCmd.FaultReset}" CmdParam="True" />
                                        </Button.CommandParameter>
                                    </Button>
                                    <Button
                                        Margin="5"
                                        Command="{Binding OperateActionCommand}"
                                        Content="{DynamicResource 参数设置}"
                                        Foreground="White">
                                        <Button.CommandParameter>
                                            <module:DryParam Cmd="{x:Static machine:DryOvenCmd.WriteParam}" CmdParam="True" />
                                        </Button.CommandParameter>
                                    </Button>

                                    <TextBlock
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Text="{DynamicResource 联机状态}" />
                                    <TextBlock
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Text="{Binding RowData.RealTimeData.OnlineState, Converter={StaticResource RemoteOrNot}}" />
                                </cusPanel:AutoHeight>
                            </materialDesign:Card>


                        </Grid>
                    </materialDesign:Card>
                </Grid>


            </GroupBox>

        </materialDesign:Card>

    </Grid>
</UserControl>
